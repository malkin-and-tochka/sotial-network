{"version":3,"file":"static/js/609.2e328ecf.chunk.js","mappings":"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","sources":["webpack://first-project/./src/components/profile/myPosts/post/post.module.css?a198","components/profile/myPosts/post/post.jsx","components/profile/myPosts/myPosts.jsx","webpack://first-project/./src/components/profile/profileInfo/profileInfo.module.css?01bc","components/profile/profileInfo/profileInfo.jsx","webpack://first-project/./src/components/profile/profile.module.css?5210","webpack://first-project/./src/components/profile/profilePostForm/profilePostForm.module.css?d218","components/profile/profilePostForm/profilePostForm.jsx","components/profile/profile.jsx","components/profile/profileContainer.jsx","hoc/withAuthRedirect.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"post\":\"post_post__BhTfG\",\"name\":\"post_name__P9qQM\"};","import s from './post.module.css'\r\n\r\nconst Post = (props) =>{\r\n\r\n  return(\r\n    <div className={s.post}>\r\n      <span className={s.name}>{props.userName}</span> <br />\r\n      {props.post}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Post","import Post from './post/post'\r\n\r\nconst MyPosts = (props) =>{\r\n  let post = props.posts.map((p) => \r\n    <Post userName={p.name} id={p.id} post={p.post}/>\r\n  )\r\n  return(\r\n    <ul>\r\n      {post}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default MyPosts","// extracted by mini-css-extract-plugin\nexport default {\"profileWrapper\":\"profileInfo_profileWrapper__-esiH\",\"profile\":\"profileInfo_profile__Vagtk\",\"row\":\"profileInfo_row__miibg\",\"userIconWrapper\":\"profileInfo_userIconWrapper__xWOPc\",\"userIcon\":\"profileInfo_userIcon__+q7T7\",\"userInfo\":\"profileInfo_userInfo__j3Ttf\",\"topInfo\":\"profileInfo_topInfo__1Impc\",\"userName\":\"profileInfo_userName__BkMXP\",\"moreInfo\":\"profileInfo_moreInfo__QAUSQ\",\"bottomInfo\":\"profileInfo_bottomInfo__8+Ldj\",\"postButton\":\"profileInfo_postButton__D9G4a\"};","import React, {useEffect, useState} from \"react\";\r\nimport style from './profileInfo.module.css'\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n    let [editMode, setAditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        if (!status) {\r\n            setStatus(props.status)\r\n        }\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setAditMode(true)\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setAditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={style.profile}>\r\n            <div className={style.top}>\r\n                <div className={style.row}>\r\n\r\n                    <div className={style.userIconWrapper}>\r\n                        <img src={props.props.profile.photos.large} className={style.userIcon}/>\r\n                    </div>\r\n\r\n                    <div className={style.userInfo}>\r\n                        <div className={style.topInfo}>\r\n                            <div className={style.userName}>\r\n                                {props.props.profile.fullName}\r\n                            </div>\r\n\r\n\r\n                            <button onClick={activateEditMode} className={style.moreInfo}>\r\n                                change\r\n                                <span>\r\n                                  >\r\n                                </span>\r\n                            </button>\r\n\r\n\r\n                        </div>\r\n                        <div className={style.bottomInfo}>\r\n\r\n\r\n                            <div className={style.aboutMe}>\r\n                                About me:<br/>\r\n                                {editMode &&\r\n                                    <div>\r\n                                        <input autoFocus={true} onChange={onStatusChange} onBlur={deactivateEditMode}\r\n                                               value={status}/>\r\n                                    </div>}\r\n                                {!editMode &&\r\n                                    <div>\r\n                                        <span>{props.status}</span>\r\n                                    </div>}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo","// extracted by mini-css-extract-plugin\nexport default {\"profileWrapper\":\"profile_profileWrapper__n5C6e\",\"postButton\":\"profile_postButton__60B7T\"};","// extracted by mini-css-extract-plugin\nexport default {\"textarea\":\"profilePostForm_textarea__pKohR\",\"postButton\":\"profilePostForm_postButton__5bY7B\",\"error\":\"profilePostForm_error__whBEU\",\"textError\":\"profilePostForm_textError__qMKqo\"};","import { Form, Formik, Field } from \"formik\"\r\nimport style from './profilePostForm.module.css'\r\nimport * as yup from 'yup'\r\nimport React from \"react\"\r\n\r\n\r\nconst ProfilePostForm =(props)=>{\r\n  const addNewPost =(values)=>{\r\n    props.addPost(values.newPost)\r\n    values.newPost=''\r\n  }\r\n\r\n  const validationSchema = yup.object().shape({\r\n    newPost: yup.string().typeError('Должно быть сообщение!').required('Пост пустой!')\r\n  })\r\n  \r\n  return(\r\n    <Formik\r\n      initialValues={{newPost:''}}\r\n      onSubmit={addNewPost}\r\n      validationSchema={validationSchema}\r\n      className={style.createPost} >\r\n      {({touched, values, handleSubmit, errors, handleBlur, isValid, dirty, handleChange})=>(\r\n      <Form>\r\n        <Field value={values.newPost} onBlur={handleBlur} onChange={handleChange} className={!(errors.newPost && touched.newPost) ? style.textarea : style.error} name='newPost' type='textarea' placeholder='Write there...'/>\r\n          {errors.newPost && touched.newPost && <p className={style.textError}>{errors.newPost}</p>}\r\n        <div>\r\n          <button disabled={!isValid && !dirty} onClick={handleSubmit} className={style.postButton} type='submit'>\r\n            New Post\r\n          </button>\r\n        </div>\r\n      </Form>\r\n      )}\r\n    </Formik>\r\n  )\r\n}\r\n\r\nconst ProfilePostFormMemo = React.memo(ProfilePostForm)\r\n\r\nexport default ProfilePostFormMemo","import MyPosts from './myPosts/myPosts'\r\nimport ProfileInfo from './profileInfo/profileInfo'\r\nimport style from './profile.module.css'\r\nimport React from 'react'\r\nimport Preloader from '../../common/Preloader'\r\nimport ProfilePostFormMemo from './profilePostForm/profilePostForm'\r\n\r\nconst Profile = (props) => {\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return (\r\n        <div className={style.profileWrapper}>\r\n            <ProfileInfo updateStatus={props.updateStatus} status={props.status} props={props}/>\r\n            <ProfilePostFormMemo {...props}/>\r\n            <MyPosts posts={props.postsState.postsData}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile ","import { addPost, setUserProfile, getUsersData, getStatus, updateStatus } from '../../redux/profile-reduce'\r\nimport Profile from './profile'\r\nimport {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport {useLocation,useNavigate,useParams} from \"react-router-dom\";\r\nimport withAuthRedirect from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends React.Component{\r\n\r\n  componentDidMount(){\r\n    let userId = this.props.router.params.userId;\r\n    if(!userId){\r\n      userId = this.props.authorizedUserId\r\n    }\r\n    this.props.getUsersData(userId)\r\n    this.props.getStatus(userId)\r\n  } \r\n\r\n  render(){\r\n    return(\r\n      <Profile {...this.props} profile={this.props.profileState} status={this.props.status} updateStatus={this.props.updateStatus}/>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) =>{\r\n  return{\r\n    postsState: state.ProfileDataWrapper,\r\n    profileState: state.ProfileDataWrapper.profile,\r\n    status: state.ProfileDataWrapper.status,\r\n    isAuth: state.authDataWrapper.isAuth,\r\n    authorizedUserId: state.authDataWrapper.userId\r\n  }\r\n}\r\n\r\nfunction withRouter(Component) {\r\n  function ComponentWithRouterProp(props) {\r\n      let location = useLocation();\r\n      let navigate = useNavigate();\r\n      let params = useParams();\r\n      return (\r\n          <Component\r\n              {...props}\r\n              router={{ location, navigate, params }}\r\n          />\r\n      );\r\n  }\r\n\r\n  return ComponentWithRouterProp;\r\n}\r\n\r\nexport default   \r\ncompose(\r\n  connect(mapStateToProps,{addPost, setUserProfile, getUsersData, getStatus, updateStatus}),\r\n  withRouter,\r\n  withAuthRedirect\r\n)(ProfileContainer)","import React from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport { Navigate } from \"react-router-dom\"\r\n\r\nlet mapStateToPropsForRedirect = (state) =>{\r\n  return{\r\n    isAuth:state.authDataWrapper.isAuth\r\n  }\r\n}\r\n\r\nconst withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component{\r\n    render(){\r\n      if(!this.props.isAuth) return <Navigate to={\"/login\"}/>\r\n      return <Component {...this.props}/>\r\n    }\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent) \r\n\r\n  return ConnectedAuthRedirectComponent\r\n}\r\n\r\nexport default withAuthRedirect"],"names":["props","className","s","userName","post","posts","map","p","name","id","useState","editMode","setAditMode","status","setStatus","useEffect","style","src","profile","photos","large","fullName","onClick","autoFocus","onChange","e","currentTarget","value","onBlur","updateStatus","ProfilePostForm","validationSchema","yup","shape","newPost","typeError","required","initialValues","onSubmit","values","addPost","touched","handleSubmit","errors","handleBlur","isValid","dirty","handleChange","type","placeholder","disabled","React","postsState","postsData","Preloader","ProfileContainer","userId","this","router","params","authorizedUserId","getUsersData","getStatus","profileState","compose","connect","state","ProfileDataWrapper","isAuth","authDataWrapper","setUserProfile","Component","location","useLocation","navigate","useNavigate","useParams","withAuthRedirect","mapStateToPropsForRedirect","RedirectComponent","to"],"sourceRoot":""}